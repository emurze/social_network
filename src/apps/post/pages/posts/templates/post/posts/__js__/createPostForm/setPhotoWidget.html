<script defer>
    const posts_create_post_description = document.querySelector('.posts__create_post-description')
    const wrapper = document.querySelector('.create_post_photo_wrapper')

    function ShowCreatedImage(input) {
        const files = input.files
        const reader = []

        const extension = files[0].name.split('.').at(-1)

        console.log(extension)

        if (ALLOWED_EXTENSIONS.includes(extension)) {
            console.log('good')

            for (let i in files) {
                if (files.hasOwnProperty(i)) {
                    const name = 'file' + i

                    reader[i] = new FileReader()
                    reader[i].readAsDataURL(input.files[i])

                    const last_image = document.querySelector('.posts__create_post-description-new_photo')
                    last_image && last_image.remove()

                    posts_create_post_description.style.marginBottom = '10px'

                    reader[i].onload = e => {
                        wrapper.insertAdjacentHTML(
                            'beforeend',
                            '<div class="posts__create_post-description-new_photo">' +
                            '<img id="' + name + '" src="" alt="" class="posts__create_post-description-new_photo-img" />' +
                            '</div>'
                        )

                        const photo_elem = document.getElementById(name)
                        photo_elem.src = e.target.result
                    }
                }
            }
        } else {
            wrapper.insertAdjacentHTML(
                'beforeend',
                `<div style="color: red; position: absolute; bottom: 8px; font-size: 15px; right: 162px;">
                    Format ${extension} is invalid
                </div>`
            )
        }
    }
</script>